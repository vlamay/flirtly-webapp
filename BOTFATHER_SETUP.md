# ü§ñ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Mini App –≤ BotFather

–ü–æ—à–∞–≥–æ–≤–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—é Web App –∫ —Ç–≤–æ–µ–º—É Telegram –±–æ—Ç—É.

## üìã –ß–µ–∫-–ª–∏—Å—Ç –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏

- [x] ‚úÖ Bot —Å–æ–∑–¥–∞–Ω —á–µ—Ä–µ–∑ @BotFather
- [x] ‚úÖ –¢–æ–∫–µ–Ω –ø–æ–ª—É—á–µ–Ω –∏ –¥–æ–±–∞–≤–ª–µ–Ω –≤ .env
- [x] ‚úÖ –ö–æ–º–∞–Ω–¥—ã –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã (/start, /profile, /search, etc.)
- [x] ‚úÖ –û–ø–∏—Å–∞–Ω–∏–µ –±–æ—Ç–∞ –¥–æ–±–∞–≤–ª–µ–Ω–æ
- [x] ‚úÖ Business Mode –≤–∫–ª—é—á–µ–Ω
- [x] ‚úÖ Group Privacy –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞
- [x] ‚úÖ Allow Groups –≤–∫–ª—é—á–µ–Ω–æ

## üöÄ –®–∞–≥ 1: –°–æ–∑–¥–∞–Ω–∏–µ Mini App

### –ß–µ—Ä–µ–∑ BotFather:

1. **–û—Ç–∫—Ä–æ–π @BotFather** –≤ Telegram
2. **–û—Ç–ø—Ä–∞–≤—å –∫–æ–º–∞–Ω–¥—É**: `/newapp`
3. **–í—ã–±–µ—Ä–∏ —Å–≤–æ–µ–≥–æ –±–æ—Ç–∞**: `@sparkmatch_dating_bot` (–∏–ª–∏ –∫–∞–∫ –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è —Ç–≤–æ–π –±–æ—Ç)
4. **–í–≤–µ–¥–∏ –Ω–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è**: `SparkMatch`
5. **–í–≤–µ–¥–∏ –æ–ø–∏—Å–∞–Ω–∏–µ**: `–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π —Å–µ—Ä–≤–∏—Å –∑–Ω–∞–∫–æ–º—Å—Ç–≤ –≤ Telegram`
6. **–ó–∞–≥—Ä—É–∑–∏ —Ñ–æ—Ç–æ** (640x360 –∏–ª–∏ 320x180) - –º–æ–∂–Ω–æ –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å
7. **–í–≤–µ–¥–∏ URL –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è**: 
   ```
   https://–¢–í–û–ô_USERNAME.github.io/sparkmatch-webapp/
   ```
   ‚ö†Ô∏è **–í–ê–ñ–ù–û**: –ó–∞–º–µ–Ω–∏ `–¢–í–û–ô_USERNAME` –Ω–∞ —Å–≤–æ–π GitHub username!

## üîó –®–∞–≥ 2: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Menu Button

### –ü–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è Mini App:

1. **–í–µ—Ä–Ω–∏—Å—å –≤ BotFather**: `/mybots`
2. **–í—ã–±–µ—Ä–∏ —Å–≤–æ–µ–≥–æ –±–æ—Ç–∞**
3. **–ü–µ—Ä–µ–π–¥–∏ –≤**: `Mini Apps`
4. **–ù–∞–∂–º–∏**: `Menu Button`
5. **–í—ã–±–µ—Ä–∏**: `Set URL`
6. **–í–≤–µ–¥–∏ URL**: 
   ```
   https://–¢–í–û–ô_USERNAME.github.io/sparkmatch-webapp/
   ```
7. **–°–æ—Ö—Ä–∞–Ω–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏**

## üé® –®–∞–≥ 3: –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

### –ê–≤–∞—Ç–∞—Ä –±–æ—Ç–∞:
1. `/mybots` ‚Üí —Ç–≤–æ–π –±–æ—Ç ‚Üí `Edit Bot`
2. `Edit Botpic` ‚Üí –∑–∞–≥—Ä—É–∑–∏ —Ñ–æ—Ç–æ 512x512
3. –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è: —Å–æ–∑–¥–∞–π –ª–æ–≥–æ—Ç–∏–ø —Å –º–æ–ª–Ω–∏–µ–π ‚ö°

### Welcome Picture:
1. `/mybots` ‚Üí —Ç–≤–æ–π –±–æ—Ç ‚Üí `Edit Bot`
2. `Welcome Picture` ‚Üí –∑–∞–≥—Ä—É–∑–∏ —Ñ–æ—Ç–æ 640x360
3. –ú–æ–∂–µ—à—å —Å–æ–∑–¥–∞—Ç—å –∫—Ä–∞—Å–∏–≤—ã–π –±–∞–Ω–Ω–µ—Ä —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º

## üß™ –®–∞–≥ 4: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ü—Ä–æ–≤–µ—Ä—å —Ä–∞–±–æ—Ç—É Web App:

1. **–û—Ç–∫—Ä–æ–π –±–æ—Ç–∞** –≤ Telegram
2. **–ù–∞–∂–º–∏ –∫–Ω–æ–ø–∫—É –º–µ–Ω—é** (–µ—Å–ª–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞)
3. **–ò–ª–∏ –æ—Ç–ø—Ä–∞–≤—å**: `/start`
4. **–ù–∞–π–¥–∏ –∫–Ω–æ–ø–∫—É Web App** –≤ –º–µ–Ω—é
5. **–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π –≤—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏**:
   - ‚úÖ –ó–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–æ—Ñ–∏–ª–µ–π
   - ‚úÖ Swipe –∂–µ—Å—Ç—ã (–≤–ª–µ–≤–æ/–≤–ø—Ä–∞–≤–æ)
   - ‚úÖ –ö–Ω–æ–ø–∫–∏ –ª–∞–π–∫/—Å—É–ø–µ—Ä–ª–∞–π–∫/–ø—Ä–æ–ø—É—Å–∫
   - ‚úÖ –ê–Ω–∏–º–∞—Ü–∏–∏ –∏ —ç—Ñ—Ñ–µ–∫—Ç—ã
   - ‚úÖ –°—á–µ—Ç—á–∏–∫–∏ –ª–∞–π–∫–æ–≤ –∏ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–π

## üîß –®–∞–≥ 5: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –±–æ—Ç–æ–º

### –í –∫–æ–¥–µ –±–æ—Ç–∞ –¥–æ–±–∞–≤—å –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ Web App –¥–∞–Ω–Ω—ã—Ö:

```python
from telegram import Update
from telegram.ext import ContextTypes
import json

async def handle_web_app_data(update: Update, context: ContextTypes.DEFAULT_TYPE):
    """–û–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö –æ—Ç Web App"""
    web_app_data = update.effective_message.web_app_data.data
    
    try:
        data = json.loads(web_app_data)
        action = data.get('action')
        profile_id = data.get('profile_id')
        user_id = data.get('user_id')
        
        if action == 'like':
            await handle_like(user_id, profile_id)
        elif action == 'skip':
            await handle_skip(user_id, profile_id)
        elif action == 'superlike':
            await handle_superlike(user_id, profile_id)
            
        await update.effective_message.reply_text(
            f"‚úÖ {action} –æ–±—Ä–∞–±–æ—Ç–∞–Ω –¥–ª—è –ø—Ä–æ—Ñ–∏–ª—è {profile_id}"
        )
        
    except Exception as e:
        await update.effective_message.reply_text(
            f"‚ùå –û—à–∏–±–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏: {str(e)}"
        )

# –î–æ–±–∞–≤—å –≤ application:
application.add_handler(MessageHandler(filters.StatusUpdate.WEB_APP_DATA, handle_web_app_data))
```

## üéØ –§–∏–Ω–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞

### –£–±–µ–¥–∏—Å—å —á—Ç–æ –≤—Å–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:

- [ ] ‚úÖ Web App –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –≤ Telegram
- [ ] ‚úÖ –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- [ ] ‚úÖ Swipe –∂–µ—Å—Ç—ã —Ä–∞–±–æ—Ç–∞—é—Ç
- [ ] ‚úÖ –ö–Ω–æ–ø–∫–∏ —Ä–µ–∞–≥–∏—Ä—É—é—Ç –Ω–∞ –Ω–∞–∂–∞—Ç–∏—è
- [ ] ‚úÖ –ê–Ω–∏–º–∞—Ü–∏–∏ –ø—Ä–æ–∏–≥—Ä—ã–≤–∞—é—Ç—Å—è
- [ ] ‚úÖ –î–∞–Ω–Ω—ã–µ –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –≤ –±–æ—Ç–∞
- [ ] ‚úÖ –ë–æ—Ç –ø–æ–ª—É—á–∞–µ—Ç –∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ

## üö® –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### Web App –Ω–µ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è:
- –ü—Ä–æ–≤–µ—Ä—å URL –≤ BotFather
- –£–±–µ–¥–∏—Å—å —á—Ç–æ GitHub Pages –≤–∫–ª—é—á–µ–Ω—ã
- –ü—Ä–æ–≤–µ—Ä—å —á—Ç–æ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –ø—É–±–ª–∏—á–Ω—ã–π

### –û—à–∏–±–∫–∏ –≤ –∫–æ–Ω—Å–æ–ª–∏:
- –û—Ç–∫—Ä–æ–π DevTools –≤ –±—Ä–∞—É–∑–µ—Ä–µ
- –ü—Ä–æ–≤–µ—Ä—å Network tab –Ω–∞ –æ—à–∏–±–∫–∏ –∑–∞–≥—Ä—É–∑–∫–∏
- –£–±–µ–¥–∏—Å—å —á—Ç–æ –≤—Å–µ —Ñ–∞–π–ª—ã –¥–æ—Å—Ç—É–ø–Ω—ã

### –ù–µ —Ä–∞–±–æ—Ç–∞—é—Ç swipe –∂–µ—Å—Ç—ã:
- –ü—Ä–æ–≤–µ—Ä—å —á—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—à—å –º–æ–±–∏–ª—å–Ω–æ–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ
- –£–±–µ–¥–∏—Å—å —á—Ç–æ JavaScript –≤–∫–ª—é—á–µ–Ω
- –ü—Ä–æ–≤–µ—Ä—å –ø–æ–¥–¥–µ—Ä–∂–∫—É touch —Å–æ–±—ã—Ç–∏–π

## üéâ –ì–æ—Ç–æ–≤–æ!

–¢–≤–æ–π SparkMatch Web App –≥–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é! 

**–°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:**
1. üé® –°–æ–∑–¥–∞–π –∫—Ä–∞—Å–∏–≤—ã–π –∞–≤–∞—Ç–∞—Ä –±–æ—Ç–∞
2. üì¢ –ó–∞–ø—É—Å—Ç–∏ —Ä–µ–∫–ª–∞–º—É –∏ –ø—Ä–∏–≤–ª–µ–∫–∏ –ø–µ—Ä–≤—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
3. üí∞ –ù–∞—Å—Ç—Ä–æ–π —Å–∏—Å—Ç–µ–º—É –ø–ª–∞—Ç–µ–∂–µ–π
4. üìä –î–æ–±–∞–≤—å –∞–Ω–∞–ª–∏—Ç–∏–∫—É –∏ –º–µ—Ç—Ä–∏–∫–∏

**–£–¥–∞—á–∏ –≤ —Å–æ–∑–¥–∞–Ω–∏–∏ —É—Å–ø–µ—à–Ω–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞ –∑–Ω–∞–∫–æ–º—Å—Ç–≤!** ‚ö°üíï
